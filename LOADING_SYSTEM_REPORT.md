# –ó–í–Ü–¢: –ì–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ª–æ–∞–¥–µ—Ä–∞ –¥–ª—è SSR-inGamble

## üìã –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É

### –Ü—Å–Ω—É—é—á–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É:

-   **Next.js 14** –∑ App Router
-   **TypeScript** –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫–∏
-   **React Query** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏
-   **–Ü—Å–Ω—É—é—á—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏**: AppContext, FilterContext
-   **–õ–æ–∞–¥–µ—Ä**: LogoLoader –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
-   **–ù–∞–≤—ñ–≥–∞—Ü—ñ—è**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ Next.js Link –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∏ —è–∫—ñ –≤–∏—Ä—ñ—à—É–≤–∞–ª–∏—Å—å:

1. ‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
2. ‚ùå –õ–æ–∞–¥–µ—Ä –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö, –∞–ª–µ –Ω–µ –ø—Ä–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
3. ‚ùå –†—ñ–∑–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –º–∞—é—Ç—å —Ä—ñ–∑–Ω—É –ª–æ–≥—ñ–∫—É –ø–æ–∫–∞–∑—É –ª–æ–∞–¥–µ—Ä–∞
4. ‚ùå –ù–µ–º–∞—î —î–¥–∏–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ —Å—Ç–∞–Ω–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

## üöÄ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è

### 1. **LoadingContext** - –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º–∏

```typescript
// /src/context/LoadingContext.tsx
interface LoadingContextType {
    isGlobalLoading: boolean; // –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
    startLoading: () => void; // –ó–∞–ø—É—Å–∫ –ª–æ–∞–¥–µ—Ä–∞
    stopLoading: () => void; // –ó—É–ø–∏–Ω–∫–∞ –ª–æ–∞–¥–µ—Ä–∞
    setContentLoaded: () => void; // –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ
    isContentLoaded: boolean; // –°—Ç–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç—É
}
```

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**

-   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç—ñ–≤
-   ‚úÖ –ü–ª–∞–≤–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∑ –∑–∞—Ç—Ä–∏–º–∫–∞–º–∏
-   ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ `LogoLoader`
-   ‚úÖ SSR —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

### 2. **LoadingLink** - –†–æ–∑—É–º–Ω–∞ –∑–∞–º—ñ–Ω–∫–∞ Link

```typescript
// /src/components/LoadingLink.tsx
<LoadingLink href="/casino/some-casino">Casino Name</LoadingLink>
```

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**

-   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –ª–æ–∞–¥–µ—Ä–∞ –ø—Ä–∏ –∫–ª—ñ–∫—ñ
-   ‚úÖ –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ø–æ—Å–∏–ª–∞–Ω—å (–Ω–µ –∑–∞–ø—É—Å–∫–∞—î –ª–æ–∞–¥–µ—Ä)
-   ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —Ç–æ–π –∂–µ –º–∞—Ä—à—Ä—É—Ç
-   ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Link
-   ‚úÖ –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ onClick –æ–±—Ä–æ–±–Ω–∏–∫–∞–º–∏

### 3. **usePageLoading** - –•—É–∫ –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫

```typescript
// /src/hooks/usePageLoading.ts
const { markAsLoaded } = usePageLoading({
    autoComplete: false,
    dependencies: [data, allData],
});
```

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**

-   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∞–±–æ —Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
-   ‚úÖ –í—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
-   ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞—Ç—Ä–∏–º–æ–∫
-   ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ React Query

### 4. **useNavigate** - –ü—Ä–æ–≥—Ä–∞–º–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è

```typescript
// /src/hooks/useNavigate.ts
const { navigate } = useNavigate();
navigate('/some-route');
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**

-   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ª–æ–∞–¥–µ—Ä –ø—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω—ñ–π –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
-   ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ replace —Ä–µ–∂–∏–º—É
-   ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Next.js router

## üîß –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –ø—Ä–æ–µ–∫—Ç

### 1. –î–æ–¥–∞–Ω–æ –¥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤:

```typescript
// /src/context/RootLayoutProvider.tsx
<QueryClientProvider client={queryClient}>
    <LoadingProvider>
        {' '}
        {/* ‚Üê –ù–û–í–ò–ô */}
        <AdaptiveProvider>
            <FilterProvider>
                <Icons />
                {children}
            </FilterProvider>
        </AdaptiveProvider>
    </LoadingProvider>
</QueryClientProvider>
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–∫–ª–∞–¥ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:

```typescript
// /src/pages-component/all-loyalties-page/index.tsx

// –ó–∞–º—ñ–Ω–µ–Ω–æ Link –Ω–∞ LoadingLink
import { LoadingLink } from '@/components/LoadingLink';

// –î–æ–¥–∞–Ω–æ —Ö—É–∫ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
const { markAsLoaded } = usePageLoading({
    autoComplete: false,
    dependencies: [data, allData],
});

// –î–æ–¥–∞–Ω–æ –ª–æ–≥—ñ–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
useEffect(() => {
    if (!isLoading && displayedData.length >= 0) {
        setTimeout(() => markAsLoaded(), 300);
    }
}, [isLoading, displayedData.length, markAsLoaded]);
```

## üìä –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞

### –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ª–æ–∞–¥–µ—Ä–∞:

1. **üëÜ –ö–ª—ñ–∫ –ø–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—é**

    ```typescript
    <LoadingLink href="/casino/example">
    ```

    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —á–∏ —Ü–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    - –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `startLoading()`

2. **üîÑ –ù–∞–≤—ñ–≥–∞—Ü—ñ—è Next.js**

    - `usePathname()` –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É—î –∑–º—ñ–Ω—É –º–∞—Ä—à—Ä—É—Ç—É
    - –õ–æ–∞–¥–µ—Ä –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω–∏–º

3. **üì∫ –ü–æ–∫–∞–∑ –ª–æ–∞–¥–µ—Ä–∞**

    ```tsx
    {
        isGlobalLoading && <LogoLoader />;
    }
    ```

    - LogoLoader —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –ø–æ–≤–µ—Ä—Ö –≤—Å—å–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
    - –ë–ª–æ–∫—É—î—Ç—å—Å—è —Å–∫—Ä–æ–ª —Å—Ç–æ—Ä—ñ–Ω–∫–∏

4. **üì° –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏**

    ```typescript
    const { data, isLoading } = useQuery({...})
    ```

    - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ React Query
    - –†–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç

5. **‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
    ```typescript
    useEffect(() => {
        if (!isLoading && dataReady) {
            markAsLoaded();
        }
    }, [isLoading, dataReady]);
    ```
    - –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–∑—É—î –ø—Ä–æ –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å
    - –õ–æ–∞–¥–µ—Ä –ø—Ä–∏—Ö–æ–≤—É—î—Ç—å—Å—è –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é

## üìà –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä—ñ—à–µ–Ω–Ω—è

### üéØ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥**

-   ‚úÖ –ü–ª–∞–≤–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
-   ‚úÖ –í—ñ–∑—É–∞–ª—å–Ω–∏–π —Ñ—ñ–¥–±–µ–∫ –ø—Ä–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
-   ‚úÖ –Ñ–¥–∏–Ω–∏–π —Å—Ç–∏–ª—å –ª–æ–∞–¥–∏–Ω–≥—É –ø–æ –≤—Å—å–æ–º—É –¥–æ–¥–∞—Ç–∫—É
-   ‚úÖ –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π —Å–∫—Ä–æ–ª –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### üîß **–¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏**

-   ‚úÖ **–¢–∏–ø–æ–±–µ–∑–ø–µ–∫–∞**: –ü–æ–≤–Ω–∞ TypeScript –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
-   ‚úÖ **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π overhead
-   ‚úÖ **SSR —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å**: –ü—Ä–∞—Ü—é—î –∑ Next.js SSR/SSG
-   ‚úÖ **React Query**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–æ—é —Å–∏—Å—Ç–µ–º–æ—é
-   ‚úÖ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

### üíª **–ó—Ä—É—á–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–æ–±–∫–∏**

-   ‚úÖ **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏**: –ó–∞–º—ñ–Ω–∞ Link ‚Üí LoadingLink
-   ‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–∞ —Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
-   ‚úÖ **–î–µ–±–∞–≥**: –ó—Ä–æ–∑—É–º—ñ–ª—ñ —Å—Ç–∞–Ω–∏ —Ç–∞ –ª–æ–≥–∏
-   ‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –º–æ–∫–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç

## üõ†Ô∏è –ú—ñ–≥—Ä–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫

### –®–≤–∏–¥–∫–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è (2 —Ö–≤–∏–ª–∏–Ω–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É):

1. **–ó–∞–º—ñ–Ω–∏—Ç–∏ —ñ–º–ø–æ—Ä—Ç–∏**:

    ```typescript
    // –ë—É–ª–æ
    import Link from 'next/link';

    // –°—Ç–∞–ª–æ
    import { LoadingLink } from '@/components/LoadingLink';
    ```

2. **–ó–∞–º—ñ–Ω–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏**:

    ```typescript
    // –ë—É–ª–æ
    <Link href="/page">Text</Link>

    // –°—Ç–∞–ª–æ
    <LoadingLink href="/page">Text</LoadingLink>
    ```

3. **–î–æ–¥–∞—Ç–∏ —Ö—É–∫ –∫–µ—Ä—É–≤–∞–Ω–Ω—è**:

    ```typescript
    const { markAsLoaded } = usePageLoading({
        autoComplete: false,
        dependencies: [data],
    });

    useEffect(() => {
        if (dataLoaded) markAsLoaded();
    }, [dataLoaded, markAsLoaded]);
    ```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ alias:

```typescript
// /src/components/ui/index.ts
export { LoadingLink as Link };

// –ü–æ—Ç—ñ–º –≤ —Ñ–∞–π–ª–∞—Ö:
import { Link } from '@/components/ui';
```

## üîÆ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—ñ—á—ñ —è–∫—ñ –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:

1. **–ü—Ä–æ–≥—Ä–µ—Å –±–∞—Ä –∑–∞–º—ñ—Å—Ç—å –ª–æ–∞–¥–µ—Ä–∞**
2. **–†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ª–æ–∞–¥–µ—Ä—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ–∫—Ü—ñ–π**
3. **–ö–µ—à—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –ª–æ–∞–¥–µ—Ä–∞**
4. **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —á–∞—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
5. **Preloading –º–∞—Ä—à—Ä—É—Ç—ñ–≤**

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

```typescript
const { markAsLoaded } = usePageLoading({
    autoComplete: true,        // –ê–≤—Ç–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
    delay: 500,               // –ó–∞—Ç—Ä–∏–º–∫–∞
    dependencies: [data],     // –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
    onStart: () => {...},     // –ö–æ–ª–ª–±–µ–∫ –ø–æ—á–∞—Ç–∫—É
    onComplete: () => {...}   // –ö–æ–ª–ª–±–µ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
})
```

## üìù –í–∏—Å–Ω–æ–≤–∫–∏

### ‚úÖ **–î–æ—Å—è–≥–Ω—É—Ç–æ —Ü—ñ–ª–µ–π:**

1. ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∏–π –ª–æ–∞–¥–µ—Ä –ø—Ä–∞—Ü—é—î –≤—ñ–¥ –∫–ª—ñ–∫—É –¥–æ —Ä–µ–Ω–¥–µ—Ä—É
2. ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –≤ —ñ—Å–Ω—É—é—á–æ–º—É –∫–æ–¥—ñ
3. ‚úÖ –¢–∏–ø–æ–±–µ–∑–ø–µ—á–Ω–µ —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è
4. ‚úÖ –ü–æ–≤–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ Next.js —Ç–∞ React Query

### üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

-   –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π UX –∑ –ø–ª–∞–≤–Ω–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
-   –Ñ–¥–∏–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
-   –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–∞ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
-   –ó—Ä—É—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

### üìã **–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**

1. –ú—ñ–≥—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –ø—Ä–æ–µ–∫—Ç—É
2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö
3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
4. –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ñ—ñ—á

**–†—ñ—à–µ–Ω–Ω—è –≥–æ—Ç–æ–≤–µ –¥–æ production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è! üöÄ**

---

## üîß –î–æ–¥–∞—Ç–∫–æ–≤i –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏

### ‚úÖ **–û–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤**

–ü—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ LoadingContext –±—É–ª–æ –≤–∏—è–≤–ª–µ–Ω–æ, —â–æ –±–∞–≥–∞—Ç–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –≤—Å–µ —â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –∑–≤–∏—á–∞–π–Ω—ñ `Link` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —â–æ –º–æ–≥–ª–æ —Å–ø—Ä–∏—á–∏–Ω—è—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞.

### **–û–Ω–æ–≤–ª–µ–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**

#### 1. **Header** (`/src/components/header/index.tsx`)
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `Link` ‚Üí `LoadingLink` –¥–ª—è `/bonuses` (–¥–µ—Å–∫—Ç–æ–ø + –º–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é)
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `Link` ‚Üí `LoadingLink` –¥–ª—è `/casinos` (–¥–µ—Å–∫—Ç–æ–ø + –º–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é)
- ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `LoadingLink` –¥–ª—è `/all-loyalties`

#### 2. **Categories** (`/src/components/categories/Categories.tsx`)
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `Link` ‚Üí `LoadingLink` –¥–ª—è `/bonuses`
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `Link` ‚Üí `LoadingLink` –¥–ª—è `/casinos` 
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `Link` ‚Üí `LoadingLink` –¥–ª—è `/all-loyalties`

#### 3. **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –±–ª–æ–∫–∏**
- ‚úÖ **BlockType5**: `/all-bonuses/best-live-bonuses`
- ‚úÖ **BlockType10**: –î–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `/all-*` —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- ‚úÖ **BlockType10Mobile**: –î–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `/all-*` —Å—Ç–æ—Ä—ñ–Ω–∫–∏  
- ‚úÖ **BlockType11**: `/all-casinos/top-crypto-casinos`

### **–í–∞–∂–ª–∏–≤—ñ—Å—Ç—å —Ü–∏—Ö –∑–º—ñ–Ω:**

üéØ **–ë–µ–∑ —Ü–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–≥–ª–∏:**
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ –≥–ª–æ–±–∞–ª—å–Ω–∏–º –ª–æ–∞–¥–µ—Ä–æ–º –±–µ–∑ –π–æ–≥–æ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- –ù–µ –±–∞—á–∏—Ç–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ —Ö–µ–¥–µ—Ä
- –ú–∞—Ç–∏ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π UX –ø—Ä–∏ —Ä—ñ–∑–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∞—Ö –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó

üîß **–ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω—å —Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç—É—î:**
- ‚úÖ –õ–æ–∞–¥–µ—Ä –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—Ä–∏ –±—É–¥—å-—è–∫–æ–º—É –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ `/all-loyalties`, `/all-casinos`, `/all-bonuses`
- ‚úÖ –õ–æ–∞–¥–µ—Ä –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –Ω–∞ `/bonuses` —Ç–∞ `/casinos` (—è–∫—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–æ–≤—É–≤–∞—Ç–∏)
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π UX –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥—É (—Ö–µ–¥–µ—Ä, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –±–ª–æ–∫–∏ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ IntersectionObserver —Ç–∞ requestAnimationFrame –¥–ª—è –≤—Å—ñ—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –ø–æ–∫—Ä–∏–≤–∞—î **100%** –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –≥–ª–æ–±–∞–ª—å–Ω–∏–º –ª–æ–∞–¥–µ—Ä–æ–º.

---

## üõ†Ô∏è **–ö–†–ò–¢–ò–ß–ù–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø: –ö–æ–Ω—Ñ–ª—ñ–∫—Ç –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –ª–æ–∞–¥–µ—Ä–∞**

### ‚ùå **–í–∏—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ all-casinos:**

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –∑–Ω–∞–π–¥–µ–Ω–∞ —ñ –≤ `/all-casinos/[[...params]]` —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ:

#### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑—É–ø–∏–Ω–µ–Ω–Ω—è –≤ LoadingContext**
```typescript
// –ë—É–ª–æ –≤ LoadingContext.tsx (–ª—ñ–Ω—ñ—ó 60-71)
useEffect(() => {
    if (navigationStarted) {
        const timer = setTimeout(() => {
            setContentLoaded() // ‚Üê –õ–û–ê–î–ï–† –ó–£–ü–ò–ù–Ø–í–°–Ø —á–µ—Ä–µ–∑ 100ms!
        }, 100)
    }
}, [pathname, navigationStarted])
```

#### **–ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–æ–¥–≤—ñ–π–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤ all-casinos**
```typescript
// SeeAllCasinos –º–∞–≤ –≤–ª–∞—Å–Ω–∏–π usePageLoading()
const { markAsLoaded } = usePageLoading() 

// AllCasinosClient –º–∞–≤ —Å–≤—ñ–π usePageLoading()  
const { markAsLoaded } = usePageLoading({
    autoComplete: false,
    dependencies: [casinoSlug]
})
```

### ‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

#### **1. LoadingContext.tsx** - –í–∏–¥–∞–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑—É–ø–∏–Ω–µ–Ω–Ω—è:
```typescript
// –ë–£–õ–û:
setTimeout(() => {
    setContentLoaded()
}, 100) // ‚Üê –ü–µ—Ä–µ–¥—á–∞—Å–Ω–µ –∑—É–ø–∏–Ω–µ–Ω–Ω—è

// –°–¢–ê–õ–û:
// –¢—ñ–ª—å–∫–∏ —Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è + fallback 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–µ–∑–ø–µ–∫–∏
setTimeout(() => {
    console.warn('Fallback timeout reached')
    setContentLoaded()
}, 5000)
```

#### **2. AllCasinosClient.tsx** - –ü—Ä–∏–≤–µ–¥–µ–Ω–æ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É:
```typescript
// –ë–£–õ–û: –¢—ñ–ª—å–∫–∏ setTimeout 800ms
const timer = setTimeout(() => {
    markAsLoaded()
}, 800)

// –°–¢–ê–õ–û: IntersectionObserver + requestAnimationFrame
const observer = new IntersectionObserver((entries) => {
    if (entry.isIntersecting && entry.intersectionRatio > 0.1) {
        requestAnimationFrame(() => {
            requestAnimationFrame(() => {
                markAsLoaded()
            })
        })
    }
}, { threshold: 0.1, rootMargin: '50px' })
```

#### **3. SeeAllCasinos.tsx** - –í–∏–¥–∞–ª–µ–Ω–æ –ø–æ–¥–≤—ñ–π–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:
```typescript
// –í–ò–î–ê–õ–ï–ù–û: –î—É–±–ª—é—é—á–∏–π usePageLoading()
const { markAsLoaded } = usePageLoading() // ‚Üê –ö–æ–Ω—Ñ–ª—ñ–∫—Ç—É–≤–∞–≤

// –î–û–î–ê–ù–û: forwardRef –¥–ª—è ref –ø–µ—Ä–µ–¥–∞—á—ñ
const SeeAllCasinos = forwardRef<HTMLElement, Props>(
    ({ casinoSlug, onContentReady }, ref) => {
        return <main ref={ref}>...</main>
    }
)
```

### üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–¢–µ–ø–µ—Ä **–≤—Å—ñ —Ç—Ä–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏** (`/all-loyalties`, `/all-casinos`, `/all-bonuses`) –ø—Ä–∞—Ü—é—é—Ç—å **–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ**:

1. ‚úÖ **–Ñ–¥–∏–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º**: IntersectionObserver + requestAnimationFrame
2. ‚úÖ **–¢–æ—á–Ω–∏–π timing**: –õ–æ–∞–¥–µ—Ä –∑–Ω–∏–∫–∞—î —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç **–ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥—Ä–µ–Ω–¥–µ—Ä–µ–Ω–∏–π**
3. ‚úÖ **Fallback –∑–∞—Ö–∏—Å—Ç**: 5 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º + 1.5 —Å–µ–∫—É–Ω–¥–∏ –¥–ª—è IntersectionObserver
4. ‚úÖ **–ù–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤**: –û–¥–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É

### üìã **–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î —Ç–∞–∫:**

```
1. LoadingLink ‚Üí startLoading()
2. –ù–∞–≤—ñ–≥–∞—Ü—ñ—è ‚Üí –ª–æ–∞–¥–µ—Ä –∞–∫—Ç–∏–≤–Ω–∏–π
3. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è ‚Üí –ª–æ–∞–¥–µ—Ä –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏  
4. IntersectionObserver ‚Üí –≤–∏—è–≤–ª—è—î 10% –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤–∏–¥–∏–º–æ
5. requestAnimationFrame √ó 2 ‚Üí –≥–∞—Ä–∞–Ω—Ç—É—î –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
6. markAsLoaded() ‚Üí –ª–æ–∞–¥–µ—Ä –∑–Ω–∏–∫–∞—î –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é 300ms
```

**–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–µ—Ä–µ–¥—á–∞—Å–Ω–∏–º –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è–º –ª–æ–∞–¥–µ—Ä–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—Ä—ñ—à–µ–Ω–∞! üöÄ**
